# Archivo de configuración de Endosys App

#  ____    _____   ____   __     __  ___   ____     ___    ____  
# / ___|  | ____| |  _ \  \ \   / / |_ _| |  _ \   / _ \  |  _ \ 
# \___ \  |  _|   | |_) |  \ \ / /   | |  | | | | | | | | | |_) |
#  ___) | | |___  |  _ <    \ V /    | |  | |_| | | |_| | |  _ < 
# |____/  |_____| |_| \_\    \_/    |___| |____/   \___/  |_| \_\
                                                               
[server:main]
use = egg:Paste#http
host = 0.0.0.0
port = 8080

[app:main]
authkit.customcookie.secret = secret string
authkit.customcookie.signoutpath = /auth/signout
authkit.customform.authenticate.user.type = authkit.users.sqlalchemy_driver:UsersFromDatabase
authkit.customform.authenticate.user.data = endosys.model
authkit.customform.template.obj = endosys.lib.signin:make_template
authkit.setup.method = form, cookie
authkit.cookie.secret = secret string
authkit.cookie.signoutpath = /auth/signout
authkit.form.authenticate.user.type = authkit.users.sqlalchemy_driver:UsersFromDatabase
authkit.form.authenticate.user.data = endosys.model
authkit.form.template.obj = endosys.lib.signin:make_template
use = egg:endosys
full_stack = true
cache_dir = %(here)s/cache
beaker.session.key = endosys
beaker.session.secret = somesecret
lang = es
#set debug = false

#  ____       _      ____    _____     ____    _____     ____       _      _____    ___    ____  
# | __ )     / \    / ___|  | ____|   |  _ \  | ____|   |  _ \     / \    |_   _|  / _ \  / ___| 
# |  _ \    / _ \   \___ \  |  _|     | | | | |  _|     | | | |   / _ \     | |   | | | | \___ \ 
# | |_) |  / ___ \   ___) | | |___    | |_| | | |___    | |_| |  / ___ \    | |   | |_| |  ___) |
# |____/  /_/   \_\ |____/  |_____|   |____/  |_____|   |____/  /_/   \_\   |_|    \___/  |____/ 


# Cadena de conexión a la base de datos:
#   Genérico: dialect+driver://username:password@host:port/database
#   MSSQL:    mssql://USER:PASSWORD@EQUIPO_OR_IP\INSTANCIA/BD -- Ej.: mssql://sa:endosys@servidor\sqlexpress/endosys
#   MySQL:    mysql://USER:PASSWORD@EQUIPO_OR_IP:PUERTO/BD    -- Ej.: mysql://root:endosys@localhost:3306/endosysapp
#   ORACLE:    oracle://USER:PASSWORD@SERVER/BD               -- Ej.: oracle://endosys:Pentax432@server/XE
sqlalchemy.url = mssql://user:password@server/bd

# Otras opciones:
# sqlalchemy.pool_recycle = 1800
# sqlalchemy.echo = True                # Muestra las consultas SQL por consola


[DEFAULT]

#   ____   _____   _   _   _____   ____       _      _       _____   ____  
#  / ___| | ____| | \ | | | ____| |  _ \     / \    | |     | ____| / ___| 
# | |  _  |  _|   |  \| | |  _|   | |_) |   / _ \   | |     |  _|   \___ \ 
# | |_| | | |___  | |\  | | |___  |  _ <   / ___ \  | |___  | |___   ___) |
#  \____| |_____| |_| \_| |_____| |_| \_\ /_/   \_\ |_____| |_____| |____/ 

# ---
# Versión:      < 2.1.1.1
# Default:      %Carpeta_endosys%/data
# Valores:      (Ruta del sistema)
# Descripción:  Carpeta donde se guardan los ficheros propios de cada cliente, como por ejemplo las plantillas
#               de los formularios. Normalmente el valor que se le asigna al parámetro es el nombre del cliente.
CARPETA_CUSTOM = HOSPITAL

# ---
# Versión:      >= 2.1.1.1
# Default:      historia,paciente,hora,prioridad,observaciones,button
# Valores:      historia,paciente,nombre,apellido1,apellido2,fechaNacimiento,edad,hora,prioridad,sala,
#               medico,medico,cancelada,codigo_prestacion,descripcion_prestacion,observaciones,button,
#               _codigo_prestacion,_descripcion_prestacion,cip,agenda_cod,agenda_descr,flag_estado,
#               medico_realizado_cita
#				>= 2.4.23: mwl_schPerfPhysicianName, mwl_schProcStepLoc, mwl_schStationName, 
#				mwl_schStationAETitle, mwl_reqService, mwl_reqProcedurePriority, mwl_studyInstanceUID, 
#				mwl_accessionNumber, mwl_admissionID, mwl_patientLocation, mwl_schProcStepDescription, 
#				mwl_schProcStepID, mwl_reqPhysician, mwl_refPhysicianName
# Descripción:  Indica las columnas que se quieren mostrar en el listado de citas. 
#               Se pueden usar estos identificadores para las columnas
#               Si MOSTRAR_PRESTACION_EN_CITAS esta activa se mostrarán también codigo_prestacion,descripcion_prestacion 
#               y si no se ha activado se mostrará la columna tipoexploracion.
COLUMNAS_CITAS = historia,paciente,hora,prioridad,observaciones,button

# ---
# Versión:      < 2.1.1.1 
# Default:      0
# Valores:      0,1
# Descripción:  Se mostraran en las columnas de citas pendientes el codigo_prestacion y descripcion_prestacion
#               Si esta en 0 se mostrará tipoexploracion 
MOSTRAR_PRESTACION_EN_CITAS = 0

# ---
# Versión:      < 2.1.1.1 
# Default:      html
# Valores:      pdf,html
# Descripción:  Formato en que se muestra el informe en la aplicación. 
#               Para la opción HTML, las plantillas de informes han de ser HTML.
# Observacion:  En el codigo por defecto es html pero se recomienda pdf
FORMATO_INFORMES = pdf

# ---
# Versión:      < 2.1.1.1 
# Default:      0
# Valores:      0,1
# Descripción:  Esta opción sirve para configurar que cuando seleccionas una cita, empezar directamente la exploración,
#               sin preguntar qué tipo de exploración se va a realizar. Sirve para instalaciones donde
#               esta mapeado las prestaciones de la cita con los tipos de exploración. Este tipo de instalación no es muy habitual.
PERMITIR_CAMBIAR_TIPO_EXPLORACION_DE_CITA = 0

# ---
# Versión:      < 2.1.1.1
# Default:      0
# Valores:      0,1
# Descripción:  Activar o desactivar el sistema de autentificación LDAP, es decir,
#               tener el mismo usuario y contraseña de Windows.
USAR_LDAP = 0

# ---
# Versión:      >= 2.4.13
# Default:      0
# Valores:      0,1
# Descripción:  Activar o desactivar el sistema de autentificación por API KEY. (usando el parámetro `_apikey`)
PERMITIR_API_KEY = 0

# NOTA: las 5 claves siguientes LDAP_MODO_DN, LDAP_DNS_NAME, LDAP_PORT, LDAP_DOMAIN, LDAP_DN
#       admiten mas de una configuracion si se pone un .(punto) y un numero. Ejemplo
#       LDAP_MODO_DN.1

# ---
# Versión:      >= 2.4.8
# Default:      0
# Valores:      0,1
# Descripción:  Hay dos modos de configurar el LDAP utilizando DN (disctint name) o utilizando 
#               el dominio (forma más antigua). Si quieres utilizar LDAP con DN debes activa
#               esta clave con 1 y utilizar el parámetro LDAP_DN, si no quiere utilizar DN debe 
#               indicar con un 0 este parámetro y utilizar LDAP_DOMAIN
LDAP_MODO_DN = 0

# ---
# Versión:      < 2.1.1.1
# Default:      (vacio)
# Valores:      String de DNS NAME
# Descripción:  
LDAP_DNS_NAME = ""

# ---
# Versión:      < 2.1.1.1 
# Default:      (Vacio)
# Valores:      (String del puerto)
# Descripción:  Puerto del servidor LDAP. El puerto habitual es el 389.
LDAP_PORT = ""

# ---
# Versión:      < 2.1.1.1 
# Default:      (Vacio)
# Valores:      (String del dominio)
# Descripción:  Dominio del servidor LDAP, para usar esta clave debe de tener LDAP_MODO=0.
LDAP_DOMAIN = ""

# ---
# Versión:      >= 2.4.8
# Default:      (No tiene)
# Valores:      String (cadena de conexión)
# Descripción:  Parámetro para indicar los DN a utilizar. Para usar esta clave debe de tener LDAP_MODO=1.
#               Ejemplo: ou=users,dc=sescam,dc=jclm,dc=es
#LDAP_DN = valor_ldap


# ---
# Versión:      >= 2.1.2.2
# Default:      0
# Valores:      0,1,2(en 2.3.3)
# Descripción:  Indica si se utilizará la funcionalidad de firma electrónica de los informes PDF.
#               0: Solamente No firmados - 1: Permitir sin firmar y firmados - 2: Solamente Firmados
FIRMA_ELECTRONICA.ACTIVO = 0

# ---
# Versión:      >= 2.4.23
# Default:      (No tiene)
# Valores:      @firma, viafirma
# Descripción:  Indica el metodo de firma electrónica que se utilizará
#FIRMA_ELECTRONICA.TIPO= metodo_firma


# ---
# Versión:      >= 2.4.23
# Default:      (No tiene)
# Valores:      (String de la url)
# Descripción:  Indica la url de la plataforma de firma electrónica que se utilizará
#FIRMA_ELECTRONICA.URL=https://testservices.viafirma.com/viafirma


# ---
# Versión:      >= 2.4.23
# Default:      (No tiene)
# Valores:      (usuario)
# Descripción:  Indica el usuario de acceso a la plataforma de firma electrónica 
#FIRMA_ELECTRONICA.USER=xnoccio

# ---
# Versión:      >= 2.4.23
# Default:      (No tiene)
# Valores:      (contraseña)
# Descripción:  Indica la contraseña de acceso a la plataforma de firma electrónica 
#FIRMA_ELECTRONICA.PASSWORD=12345


# Versión:      >= 2.4.12
# Default:      IDUNICO
# Valores:      IDUNICO|NHC|IDUNICO+NHC|NHC+IDUNICO
# Descripción:  Indica que identificadores se usa para identificar a un paciente.
IDENTIFICADORES_PACIENTE = IDUNICO

# ---
# Versión:      >= 2.4.12
# Default:      IDUNICO
# Valores:      String
# Descripción:  Indica que etiqueta mostrar para el identificador único.
IDUNICO_LABEL = Identificador

# ---
# Versión:      >= 2.1.2.2
# Default:      0
# Valores:      0,1
# Descripción:  Indica si se mostrarán los botones que permiten modificar los pacientes 
#               (crear, modificar, eliminar) desde web. En integraciones normalmente debe ser 0.
MOSTRAR_BOTONES_MODIFICACION_PACIENTES = 0

# ---
# Versión:      >= 2.1.2.2
# Default:      0
# Valores:      0,1
# Descripción:  Indica si se mostrará la opción de "Nueva exploración". En integraciones normalmente debe ser 0.
MOSTRAR_OPCION_NUEVA_EXPLORACION = 0

# ---
# Versión:      >= 2.1.5.2 
# Default:      1
# Valores:      0,1
# Descripción:  Indica si se mostrará el diálogo para seleccionar un motivo de cancelación al cancelar 
#               una exploración, tanto al utilizar el botón "Cancelar" desde la pantalla de la 
#               exploración como desde la pantalla de Citas Pendientes.
USAR_MOTIVO_CANCELACION = 1

# ---
# Versión:      >= 2.2.0.1 
# Default:      0
# Valores:      0,1
# Descripción:  Indica si al hacer el Registro de acceso se intenta obtener el nombre de Host a partir de la IP
REGISTRO.USAR_GETHOSTBYADDR = 0

# ---
# Versión:      >= 2.2.0.2
# Default:      0
# Valores:      0,1
# Descripción:  Indica si se mostrará la opción de "Gestión Citas". 
MOSTRAR_OPCION_GESTION_CITAS = 0

# ---
# Versión:      >= 2.3.0
# Default:      0
# Valores:      0,1
# Descripción:  Indica si los grupos de campos de los formularios se mostrarán mediante un control 
#               de tipo "acordeón" o mediante pestañas (valores 0 o 1 respectivamente)
GRUPOS_CAMPOS_USAR_TABS = 0

# ---
# Versión:      >= 2.3.0
# Default:      0
# Valores:      0,1
# Descripción:  Indica si en la pantalla de selección de tipo de exploración se mostrarán 
#               los botones en varias columnas. Útil si hay muchos tipos de exploración.
TIPOS_EXPLORACION.BOTONES.MULTIPLES_COLUMNAS = 0

# ---
# Versión:      >= 2.3.0
# Default:      1
# Valores:      1,2
# Descripción:  Indica si los títulos de los campos en los formularios se mostrarán encima (1) 
#               o a la izquierda del campo (2)
FORMULARIOS.LABELS.MODO = 1

# ---
# Versión:      >= 2.3.0
# Default:      0
# Valores:      0…N
# Descripción:  Indica el ancho de los títulos de los campos de los formularios cuando 
#               se muestran a la izquierda (en pixels).  Si se indica 0 no se aplica ningún cambio 
FORMULARIOS.LABELS.ANCHO = 0

# ---
# Versión:      >= 2.3.0 
# Default:      0
# Valores:      0 o Valores CSS de fuentes: 12px, 75%, etc
# Descripción:  Indica el tamaño de fuente de los títulos de los campos de formularios
#               (es directamente el valor CSS, se recomienda usar %, p.e. "75%").
FORMULARIOS.LABELS.FONTSIZE = 0

# ---
# Versión:      >= 2.3.0
# Default:      0
# Valores:      0,1
# Descripción:  Activa las opciones relativas a los pacientes deshabilitados en la aplicación
PACIENTES_DESHABILITADOS = 0

# ---
# Versión:      >= 2.3.2
# Default:      ?
# Valores:      0,1
# Descripción:  Indica si se muestran algunas opciones en desarrollo. 
#               Esta clave debería ser siempre 0 en los clientes, 
#               y solo se utiliza durante el desarrollo y pruebas.
DEVELOPMENT = 0

# ---
# Versión:      >= 2.3.2.2
# Default:      0
# Valores:      0,1
# Descripción:  Indica si por defecto se activa el check de "pacientes deshabilitados" 
#               en la búsqueda de pacientes.
PACIENTES_DESHABILITADOS.INCLUIR_POR_DEFECTO = 0

# ---
# Versión:      >= 2.3.2.2
# Default:      <= 2.4.8: 0 / >= 2.4.9: 1
# Valores:      0,1
# Descripción:  Indica si, en el caso de generar un informe mediante OpenOffice,
#               una vez generado se cerrará la instancia (los procesos soffice.exe y soffice.bin)
#               o si se mantendrán abiertos.
OPENOFFICE.CERRAR = 1

# ---
# Versión:      >= 2.3.2.2 
# Default:      RUTA_PROYECTO\data\capturas
# Valores:      (Ruta valida del sistema)
# Descripción:  Se utiliza para cambiar la carpeta en la que se almacenan las capturas. 
# PATHS.CAPTURAS = C:\

# ---
# Versión:      >= 2.3.3 
# Default:      0
# Valores:      0,1
# Descripción:  Indica si se habilita la funcionalidad de calcular el valor 
#               de campos mediante un script javascript en cliente
CAMPOS_CALCULADOS = 0

# ---
# Versión:      >= 2.3.3
# Default:      1
# Valores:      0,1
# Descripción:  0: Usa el campo edad del paciente. 1: Calcula edad mediante la fecha de nacimiento
MODO_EDAD = 1

# ---
# Versión:      >= 2.4
# Default:      0
# Valores:      0,1
# Descripción:  Activar si deseas que al seleccionar una cita, salga un dialogo de confirmación de datos 
#               del paciente, su objetivo es evitar incidencias de exploraciones a  pacientes que no corresponde la cita.
CONFIRMACION_PACIENTE_CITAS = 0

# ---
# Versión:      >= 2.4
# Default:      classic (<= 2.4.8: “pentax”)
# Valores:      classic,pentax
# Descripción:  Theme usado por endosys: classic (verde) - Pentax (rojo)
THEME_ENDOSYS = classic

# ---
# Versión:      >= 2.4.4
# Default:      0
# Valores:      0,1
# Descripción:  ???
MOSTRAR_COLUMNA_CENTRO_EN_EXPLORACIONES = 0

# ---
# Versión:      >= 2.4.5
# Default:      0
# Valores:      0,1
# Descripción:  Sirve para activar el modo que se relejan los estados en citas pendientes.
#               Requiere flag_estado en COLUMNAS_CITAS
CITAS_PENDIENTES_MODO = 0

# ---
# Versión:      >= 2.4.5
# Default:      0
# Valores:      0..N
# Descripción:  Si el valor es menor de 1000 se desactiva el refresco automático de la pantalla de citas pendientes. 
#               Si el valor es mayor o igual a 1000, por ejemplo 5000, este valor representa 
#               la velocidad de refresco de la pantalla de citas pendientes, en milisegundos.
CITAS_PENDIENTES_REFRESCO = 0

# ---
# Versión:      >= 2.4.6
# Default:      RUTA_PROYECTO\data\informes
# Valores:      (Ruta valida del sistema)
# Descripción:  Se utiliza para cambiar la carpeta en la que se almacenan los informes. 
# PATHS.INFORMES = C:\ 

# ---
# Versión:      >= 2.4.7
# Default:      1
# Valores:      0,1
# Descripción:  Mostrar y ocultar en el menú la opción de "citas pendientes".
MOSTRAR_OPCION_CITAS_PENDIENTES = 1

# ---
# Versión:      >= 2.4.7
# Default:      50
# Valores:      1..100+
# Descripción:  Cantidad de registros por página en las pantallas donde hay paginación activada
PAGINACION.CANTIDAD = 50

# ---
# Versión:      >= 2.4.7
# Default:      0
# Valores:      0,1
# Descripción:  ???
MOSTRAR_COLUMNA_SERVICIO_EN_EXPLORACIONES = 0

# ---
# Versión:      >= 2.4.8
# Default:      0
# Valores:      0,1
# Descripción:  Muestra (valor 1) u Oculta (valor 0) la navegación hacia atrás cuando un usuario está 
#               en una exploración sin finalizar. Para el correcto funcionamiento de la navegación hacia 
#               atrás es necesario que CITAS_PENDIENTES_MODO sea igual a 1
MOSTRAR_ATRAS_EXPLORACION = 0

# ---
# Versión:      >= 2.4.8
# Default:      0
# Valores:      0,1
# Descripción:  Se permite crear un Workstation sin IP. Si se intenta conectar un puesto de trabajo con una IP 
#               que no coincide con ninguno de los Workstations registrados, se identificará como ese Workstation 
#               “especial” sin IP.
#               Esto permite que cualquier puesto sin IP pueda acceder a EndoSys. 
#               Se debería utilizar sólo para puestos de consulta, los de captura deberían estar todos registrados correctamente.
WORKSTATIONS.PERMITIR_SIN_IP = 0

# ---
# Versión:      >= 2.4.8
# Default:      0
# Valores:      0,1
# Descripción:  Muestra el número de exploración de ese tipo de prueba realizada 
#               a ese paciente en el detalle de la exploración.
TIPOS_EXPLORACION.MOSTRAR_CONTADOR = 0

# ---
# Versión:      >= 2.4.8
# Default:      PRODUCCION
# Valores:      PRODUCCION,PRUEBAS
# Descripción:  Indica el entorno en cual está instalado el endosys.
#               PRUEBAS: Se modifica el logo de endosys
ENTORNO = PRODUCCION

# ---
# Versión:      >= 2.4.9
# Default:      0
# Valores:      0,1
# Descripción:  Activa (valor 1) o desactiva (valor 0) el cierre de sesión automático. Esta funcionalidad 
#               cierra la sesión de usuario si no detecta actividad del mismo. El tiempo de inactividad por
#               defecto antes de que se cierre la sesión es de 28800000 milisegundos (8 Horas) y el aviso de
#               cierre de sesión se mostrará 30000 milisegundos (30 Segundos) antes del cierre. 
#               Estos valores son configurables con las claves CIERRE_SESSION.TIEMPO y CIERRE_SESION.TIEMPO_AVISO.
CIERRE_SESION.ACTIVO = 0

# ---
# Versión:      >= 2.4.9
# Default:      28800000
# Valores:      1..N 
# Descripción:  Valor en milisegundos que indica cuánto tiempo ha de pasar inactivo el usuario para que se 
#               cierre automáticamente la sesión. CIERRE_SESION.ACTIVO  tiene que ser igual a 1.
CIERRE_SESION.TIEMPO = 28800000

# ---
# Versión:      >= 2.4.9
# Default:      30000
# Valores:      1..N
# Descripción:  Valor en milisegundos que indica cuanto tiempo antes del cierre de sesión se mostrará un dialogo 
#               de aviso de cierre de sesión con cuenta regresiva. CIERRE_SESION.ACTIVO tiene que ser igual a 1.
CIERRE_SESION.TIEMPO_AVISO = 30000

# ---
# Versión:      >= 2.4.9
# Default:      1
# Valores:      0,1
# Descripción:  Cuando el valor es 1 se activa el sistema de cache en cliente para un mejor rendimiento
CACHE.ACTIVO = 1

# ---
# Versión:      >= 2.4.9
# Default:      31536000
# Valores:      0..N
# Descripción:  La cantidad de segundos que se van a enviar en el encabezado de la  respuesta de la petición en la 
#               clave cache-control: max-age=VALOR.
CACHE.MAX_AGE = 31536000

# ---
# Versión:      >= 2.4.9
# Default:      0
# Valores:      0,1
# Descripción:  Indica que el Endosys App se usará con el Endosys App Client como cliente de los puestos de capturas.
EWC_MODO.ACTIVO = 0

# ---
# Versión:      >= 2.4.9
# Default:      (String vacio)
# Valores:      HH:SS,..,HH:SS
# Descripción:  Tiempos en los que se ejecutar un proceso que intentará recuperar y transformar en capturas 
#               los chunks que están en el servidor y por algún fallo no se generaron (por ejemplo:
#               por no estar disponible la carpeta destino de captura en el caso de ser en una ubicación de red)
EWC_MODO.PROCESO_CHUNKS.TIEMPOS = ""

# ---
# Versión:      >= 2.4.9.1 
# Default:      30
# Valores:      1..N
# Descripción:  Rango de minutos que tiene una celda del calendario.
GESTION_AGENDA.CELDA.MINUTOS = 30

# ---
# Versión:      >= 2.4.9.1 
# Default:      20
# Valores:      1..N
# Descripción:  Altura en px que tiene una celda en el calendario
GESTION_AGENDA.CELDA.ALTURA = 20

# ---
# Versión:      >= 2.4.9.1
# Default:      $historia
# Valores:      $historia, $nombre, $apellido1, etc
# Descripción:  Texto que se mostrará en el título de la cita en el calendario. Los valores posibles son todos los 
#               valores del primer nivel del paciente. Ej: $historia, $nombre $apellido1 ($fechaNacimiento)
GESTION_AGENDA.CITA.FORMATO_TITULO = $historia

# ---
# Versión:      >= 2.4.9.1
# Default:      30
# Valores:      1..N
# Descripción:  El tiempo de duración en minutos de una cita por defecto. 
GESTION_AGENDA.CITA.TIEMPO_POR_DEFECTO = 30

# ---
# Versión:      >= 2.4.9.1 
# Default:      0
# Valores:      0,1
# Descripción:  Si la clave es igual a 1 asigna automáticamente al número de historia el id de la tabla pacientes 
#               que es un numero entero autoincremental. El campo solo funciona sobre el NHC y no sobre el CIP. 
#               Si la clave está activa el usuario no puede editar la historia ya que queda como solo lectura.
PACIENTE.NHC_AUTOMATICO = 0

# ---
# Versión:      >= 2.4.23
# Default:      0
# Valores:      0,1
# Descripción:  Si = 1 => Se puede editar el idunico
#				Si = 0 => No se puede editar idunico
PACIENTE.PERMITIR_EDITAR_IDUNICO = 0

# ---
# Versión:      >= 2.4.9.2
# Default:      1
# Valores:      0,1
# Descripción:  Si el valor es 1 muestra la opción de buscar citas por historia o CIP.
#               Si el valor es 0 se oculta el campo
CITAS_PENDIENTES_BUSQUEDA_POR_HISTORIA = 1

# ---
# Versión:      >= 2.4.10.4
# Default:      60000
# Valores:      0..N
# Descripción:  La cantidad de milisegundos de intervalo de refresco de las notificaciones de EndoSys.
#               Si se configura en un valor de 0 a 9999 se desactivarán el checkeo periódico de las notificaciones.
#               Valor por defecto: 
NOTIFICACIONES.REFRESCO = 60000

# ---
# Versión:      >= 2.4.10.5
# Default:      REMOTE_ADDR
# Valores:      REMOTE_ADDR, HTTP_X_FORWARDED_FOR
# Descripción:  Determina que encabezado se usará para determinar la IP del cliente 
#               Si hay un pylons configurado como proxy con un apache se deberia configurar con HTTP_X_FORWARDED_FOR 
IP_ENCABEZADO = REMOTE_ADDR

# ---
# Versión:      >= 2.4.11
# Default:      EXTERNO
# Valores:      INTERNO,EXTERNO
# Descripción:  Si el valor es INTERNO, la generación es ejecutada por el servicio de EndoSys.
#               Si el valor es EXTERNO, la generación de informes se realiza mediante un script externo y no por el servicio de EndoSys
INFORMES.OPENOFFICE.GENERACION = EXTERNO

# ---
# Versión:      >= 2.4.11
# Default:      1
# Valores:      0..X
# Descripción:  Cantidad de veces que el sistema reintentará volver a generar el informe si ocurre un fallo. 
#               La cantidad de reintentos es transparente para el usuario (no se le mostrará que se está reintentando). 
#               Si el número de reintentos es muy alto es posible que el usuario tenga que esperar mucho en caso de que falle muchas veces.
INFORMES.OPENOFFICE.GENERACION.EXTERNO.REINTENTOS = 1

# ---
# Versión:      >= 2.4.11
# Default:      30
# Valores:      1..X
# Descripción:  Si INFORMES.OPENOFFICE.GENERACION.EXTERNO.TIMEOUT.CALCULADO.ENABLED=0 entonces se usa como timeout el valor 
#               en esta clave porque no se quiere que se calcule en base al historial de generación
INFORMES.OPENOFFICE.GENERACION.EXTERNO.TIMEOUT.FIJO = 30

# ---
# Versión:      >= 2.4.11
# Default:      1
# Valores:      0,1
# Descripción:  Si la clave es = 1 entonces el timeout de la generación de informes externo se
#               calcula en base a la demora de las generaciones anteriores.
INFORMES.OPENOFFICE.GENERACION.EXTERNO.TIMEOUT.CALCULADO.ENABLED = 1

# ---
# Versión:      >= 2.4.11
# Default:      5
# Valores:      0..X
# Descripción:  Cuando el Timeout es calculado, entonces se usa esta clave MARGEN que se sumara al cálculo del
#               timeout que se calcula. Ejemplo: si se determina que el cálculo es de 3.5s de generación y el
#               MARGEN = 5 entonces el timeout será 3.5+5=8. 
INFORMES.OPENOFFICE.GENERACION.EXTERNO.TIMEOUT.CALCULADO.MARGEN = 5

# ---
# Versión:      >= 2.4.11
# Default:      1
# Valores:      0,1
# Descripción:  Si se quiere realizar log de la generación de informes externa de openoffice. 
#               Valores:
#                   1 – Sí
#                   2 – No
INFORMES.OPENOFFICE.GENERACION.EXTERNO.LOG = 1

# ---
# Versión:      >= 2.4.11
# Default:      {directorio proyecto endosys}\logs\openoffice.log
# Valores:      {Ruta valida del sistema}
# Descripción:  La ruta de archivo donde se guardará el log de la generación externa de openoffice 
#INFORMES.OPENOFFICE.GENERACION.EXTERNO.LOG_PATH = c:\openoffice.log

# ---
# Versión:      >= 2.4.11
# Default:      INFO
# Valores:      INFO, ERROR, DEBUG
# Descripción:  El nivel de log  de la generación externa del openoffice
INFORMES.OPENOFFICE.GENERACION.EXTERNO.LOG_LEVEL = INFO

# TODO: AGREGAR DESCRIPCION - NO ESTA EN EL DOC DE CLAVES
# IMAGEN_UPLOAD_SIZE

# ---
# Versión:      >= 2.4.11.2
# Default:      0 (< 2.4.23) / 1 (>= 2.4.23)
# Valores:      0,1
# Descripción:  Permite poder ver los códigos de los elementos en la pantalla de edición
#               de elementos. Editarlos en caso de ser el usuario sysadmin.
#               Valores:
#                   1 – Sí
#                   0 – No
HABILITAR_CODIGOS_ELEMENTOS = 1

# ---
# Versión:      >= 2.4.18 ???
# Default:      1
# Valores:      0,1
# Descripción:  Permite cancelar una cita o una exploración antes de finalizarla. Por defecto
#				esta opción está habilitada, ya que es el comportamiento habitual hasta el
#				momento.
#				Si se deshabilita, no se mostrará nunca el botón para cancelar una cita
#				desde Citas Pendientes, ni el botón "No realizada" mientras se realiza
#				una exploración.
#               Valores:
#                   1 – Sí
#                   0 – No
CANCELAR_CITAS_EXPLORACIONES = 1

# ---
# Versión:      >= 2.4.23
# Default:      CIP
# Valores:      (Cadena de texto)
# Descripción:  Muestra un Label distinto a CIP para ese campo
CIP_LABEL = CIP

# ---
# Versión:      >= 2.4.23
# Default:      0
# Valores:      0,1
# Descripción:  Indica que el Endosys App realizará el purgado de la carpeta de capturas si las imágenes se envian al pacs.
PURGADO.ACTIVO = 0

# ---
# Versión:      >= 2.4.23
# Default:      (String vacio)
# Valores:      HH:SS,..,HH:SS
# Descripción:  hora a la que se realizará el purgado de la carpeta de capturas
PURGADO.PROCESO_HORA = 24:00

# ---
# Versión:      >= 2.4.23
# Default:      (String vacio)
# Valores:      0...X
# Descripción:  Nº de dias que se almacenarán los documentos en la carpeta de capturas
PURGADO.MAXIMO = 7

# ---
# Versión:      >= 2.4.23
# Default:      0
# Valores:      0,1
# Descripción:  Genera el informe en formatato PDF/A
#               Valores:
#                   1 – Sí
#                   0 – No
INFORMES.OPENOFFICE.GENERACION.EXTERNO.PDFA = 0

#  ___   _   _   _____   _____    ____   ____       _       ____   ___    ___    _   _ 
# |_ _| | \ | | |_   _| | ____|  / ___| |  _ \     / \     / ___| |_ _|  / _ \  | \ | |
#  | |  |  \| |   | |   |  _|   | |  _  | |_) |   / _ \   | |      | |  | | | | |  \| |
#  | |  | |\  |   | |   | |___  | |_| | |  _ <   / ___ \  | |___   | |  | |_| | | |\  |
# |___| |_| \_|   |_|   |_____|  \____| |_| \_\ /_/   \_\  \____| |___|  \___/  |_| \_|


# ---
# Versión:      < 2.1.1.1
# Default:      1
# Valores:      0,1
# Descripción:  Si la clave tiene valor 0 entonces no crea el paciente cuando hay una modificación.
#               Si la clave tiene valor 0 entonces si lo crea.
HL7.MODIFICACION_PACIENTE.CREAR_SI_NO_EXISTE = 1


# ---
# Versión:      < 2.1.1.1 
# Default:      0
# Valores:      0,1
# Descripción:  Activa el sistema de integración de consulta de pacientes en un sistema externo vía HL7.  
#               Además de estar activada esta función, dicha funcionalidad solo actúa si en la búsqueda de
#               pacientes desde Endosys se realiza a través del campo que identifica el paciente. (historia|CIP).
HL7.CONSULTA_PACIENTES.ACTIVO = 0

# ---
# Versión:      < 2.1.1.1 
# Default:      QBP_RSP
# Valores:      QBP_RSP,?
# Descripción:  ??
HL7.CONSULTA_PACIENTES.TIPO = QBP_RSP

# ---
# Versión:      < 2.1.1.1 
# Default:      127.0.0.1:6000
# Valores:      (String IP:PUERTO)
# Descripción:  ??
HL7.CONSULTA_PACIENTES.DESTINO = 127.0.0.1:6000

# ---
# Versión:      < 2.1.1.1 
# Default:      0
# Valores:      0,1
# Descripción:  Activa o desactivar la mensajería ORU, que es la encargada de enviar el informe al HIS del cliente.
ENVIAR_ORU.ACTIVO = 0

# ---
# Versión:      < 2.1.1.1 
# Default:      127.0.0.1:6000
# Valores:      {host|IP}:puerto
# Descripción:  Dirección ip o nombre del equipo a donde se ha de enviar el mensaje HL7 tipo ORU. Por ejemplo: esmaw7-ext:6661.
ENVIAR_ORU.DESTINO = 127.0.0.1:6000

# ---
# Versión:      < 2.1.1.1  
# Default:      127.0.0.1
# Valores:      {host|IP}
# Descripción:  Dirección ip o nombre del equipo que contiene los informes. Generalmente es la
#               dirección ip y puerto donde está instalado EndoSys.
ENVIAR_ORU.LINKS.HOST = 127.0.0.1

# ---
# Versión:      >= 2.1.1.1
# Default:      1
# Valores:      0,1
# Descripción:  Indica si, al generar el mensaje ORU, se incluyen los segmentos  OBX con links a las imágenes. 
ENVIAR_ORU.INCLUIR_IMAGENES = 1

# ---
# Versión:      >= 2.4.23
# Default:      ''
# Valores:      [nombres de campo separados por coma]
# Descripción:  Si se configura esta clave se enviarán los valores de los campos definidos aquí en un segmento
#				OBX de tipo DAT. Se pueden separar varios campos por coma que tengan una relación semantica. 
#				Ejemplo: gastro_procedimientos, colono_procedimientos, cpre_procedimientos. Semanticamente se estan
#						 enviando el campo Procedimientos. Internamente buscara si la exploracion tiene el campo
						 gastro_procedimiento y si no existe buscara en el siguiente colono_procedimiento 
#ENVIAR_ORU.OBX_DAT.[INDICE].CAMPOS = 

# ---
# Versión:      >= 2.4.23
# Default:      ''
# Valores:      [nombres de campo separados por coma]
# Descripción:  Esta clave funciona en conjunto con ENVIAR_ORU.OBX_DAT.[INDICE].CAMPOS y sirve para enviar un 
# 				identificador externo del campo que se esta enviando. Este campo se enviará en el OBX 3.1
# 				El obx 3.1 quedará definido por ENVIAR_ORU.OBX_DAT.[INDICE].CAMPO_EXTERNO^nombre_campo_interno_endosys 
#ENVIAR_ORU.OBX_DAT.[INDICE].CAMPO_EXTERNO = nombredecampo 

# ---
# Versión:      < 2.1.1.1 
# Default:      0
# Valores:      0,1
# Descripción:  Activar o desactivar la opción de guardar una copia de los ficheros de los informes en una 
#               ubicación diferente. Esta funcionalidad se utiliza para integraciones, en las que hay que
#               dejar los ficheros en una capeta específica, con el fin de que los clientes tengan acceso.
#               Esta opción es un añadido, los fichero de informes se seguirán guardando en su ruta por defecto.
INFORME_PDF.GUARDAR = 0

# ---
#Versión:       >= 2.4.20
#Default:       (String vacio)
#Valores:       Códigos de centro
#Descripción:   Activación selectiva, mediante código de centro, de la ruta donde se guardará la copia de informe PDF.
#               En los centros indicados se guardará la copia de informe PDF en la ubicación definida.
#               Si la clave está vacía no deberá producirse ningún cambio. Ya se integran mediante otro método (p.ej. envío de ORU)
INFORME_PDF.CENTROS = ""

# ---
# Versión:      < 2.1.1.1
# Default:      (String vacio)
# Valores:      (Ruta de sistema o de red)
# Descripción:  Ruta en donde se van a guardar las copias de los ficheros de informes. 
#               Esta ruta puede ser de red o local. Por ejemplo: c:\pdfs
INFORME_PDF.CARPETA = ""

# ---
# Versión:      >= 2.1.5
# Default:      (vacio)
# Valores:      (String con los campos definidos en la descripcion)
# Descripción:  Sirve para definir el nombre con el cual se van a guardar los archivos de los informes de la exploración.
#               Por motivos de integraciones, hay clientes que quieren que se guarden los ficheros con el nombre
#               concreto, para ello disponemos de variables que nos permiten una mayor flexibilidad a la hora de
#               definir estos nombres.
#               $(id)s: Id del informe
#               $(numero_informe)s: Número de informe
#               $(apellido1)s
#               $(apellido2)s,
#               $(nombre)s 
#               $(historia)s 
#               $(tipoExploracion)s
#               $(numero)s: Número exploración
#               $(fecha)s: Fecha de la exploración
#               $(accessionNumber)s: Identificadores de las citas, para integraciones DICOM worklist
#               $(servicio_codigo)s: Codigo del servicio que hizo la exploracion (>= 2.4.10.6)
#               $(centro_codigo)s: codigo del centro donde que hizo la exploracion (>= 2.4.10.6)
#               $(numero_cita)s: Numero de cita, para integraciones HL7 (>= 2.4.21)
#               $(numero_episodio)s: Numero de cita, para integraciones HL7 (>= 2.4.21)
#               $(numero_peticion)s: Numero de cita, para integraciones HL7 (>= 2.4.21)
INFORME_PDF.NOMBRE_ARCHIVO = ""

# ---
# Versión:      >= 2.2.1
# Default:      None
# Valores:      ?
# Descripción:  ??
#WORKLIST.(CENTRO).CALLING_AE =
# ---
# Versión:      >= 2.2.1
# Default:      None
# Valores:      ?
# Descripción:  ??
#WORKLIST.(CENTRO).CALLED_AE =

# ---
# Versión:      >= 2.2.1
# Default:      None
# Valores:      ?
# Descripción:  ??
#WORKLIST.(CENTRO).SERVER =

# ---
# Versión:      >= 2.2.1
# Default:      None
# Valores:      ?
# Descripción:  ??
#WORKLIST.(CENTRO).PORT =

# ---
# Versión:      >= 2.2.1
# Default:      None
# Valores:      ?
# Descripción:  ??
#WORKLIST.(CENTRO).MODALITY =

# ---
# Versión:      >= 2.4.23
# Default:      0
# Valores:      0,1
# Descripción:  Usa el nuevo método de consulta de citas por Worklist con la libreria pydicom
#				que es nativa de python.
WORKLIST.CONSULTA_CITAS.ACTIVO = 0

# ---
# Versión:      >= 2.3.0 
# Default:      0
# Valores:      0,1
# Descripción:  ??
ENVIAR_CAPTURA_ACTIVIDAD.ACTIVO = 0

# ---
# Versión:      >= 2.3.0
# Default:      ORR
# Valores:      ORR,ORM | >= 2.4.2 (nuevas): ADT,ORR+ADT,ORM+ADT
# Descripción:  Es para indicar  qué tipo de mensajería se va a utilizar para la captura de actividad.
ENVIAR_CAPTURA_ACTIVIDAD.TIPO = ORR

# ---
# Versión:      >= 2.3.0
# Default:      127.0.0.1:6000
# Valores:      IP:PUERTO
# Descripción:  Indicar la IP y puerto del host al que se le va a enviar la mensajería. Por ejemplo: esmaw7-ext:6661.
#               ¡IMPORTANTE! Las claves que hacen referencia a ENVIAR_CAPTURA_ACTIVIDAD , 
#               sustituyen a  las anteriores ENVIAR_ORR.ACTIVO y ENVIAR_ORR.DESTINO, que ya no son válidas. 
ENVIAR_CAPTURA_ACTIVIDAD.DESTINO = 127.0.0.1:6000

# ---
# Versión:      >= 2.3.0?
# Default:      30
# Valores:      (segundos)
# Descripción:  Timeout utilizado en el envío del mensaje de captura de actividad.
ENVIAR_CAPTURA_ACTIVIDAD.TIMEOUT = 30

# ---
# Versión:      >= 2.3.1
# Default:      None
# Valores:      (nombre_campo)
# Descripción:  Indica el nombre de un campo de formulario en el que el usuario selecciona la prestación que ha realizado. 
#               Si se indica un campo, en la captura de actividad se devolverá la prestación seleccionada
#               en este campo en lugar de la recibida en la cita. 
#               El campo debe ser de tipo selección, y existir en todos los tipos de exploración.
#               De momento solo funciona con citas, no con peticiones.
#               Si no se asigna ningún valor no se utiliza esta función.
#ENVIAR_CAPTURA_ACTIVIDAD.CAMPO_PRESTACION_REALIZADA

# ---
# Versión:      >= 2.3.1.4
# Default:      dcmtk
# Valores:      dcmtk,dcm4che
# Descripción:  Indica las bibliotecas DICOM que se van a utilizar para realizar la consulta del Worklist.
#               dcmtk: Es la utilizada hasta ahora. No requiere ningún  componente adicional.
#               dcm4che: Se ha implementado en esta versión. Es más estable que la implementación de dcmtk. 
#                        Requiere Java y la instalación de los archivos binarios de dcm4che.
#               El valor por defecto es "dcmtk". Se recomienda utilizar "dcm4che".
WORKLIST_LIB = dcmtk

# ---
# Versión:      >= 2.3.2.3
# Default:      0
# Valores:      0,1
# Descripción:  Indica si se enviará un mensaje ORU por cada versión de informe generada de una misma exploración (valor 1), 
#               o si solo se enviará una sola vez un link que apunta a la última versión disponible (valor 0). 
ENVIAR_ORU.VERSIONES = 0

# ---
# Versión:      >= 2.3.2.3
# Default:      _blank
# Valores:      _blank,_self
# Descripción:  Al mostrar el listado de informes mediante la URL http://server/rest/informes.html, 
#               los links de cada informe tendrán el "target" indicado en esta opción. 
INFORMES.LISTADO.TARGET = _blank

# ---
# Versión:      >= 2.4.3
# Default:      0
# Valores:      0,1
# Descripción:  Indica si, al generar el mensaje ORU, se envía el pdf incrustado en base64 en vez de enviar el link.
#               Esta opción requiere ENVIAR_ORU.VERSIONES = 1.
ENVIAR_ORU.INCRUSTADO = 0

# ---
# Versión:      >= 2.4.23
# Default:      0
# Valores:      0,1
# Descripción:  Indica si se envía un mensaje ORU con el ORC.1 con OC para anular un informe
#				Si es 1 entonces se enviará un ORU con el informe pero con la intención de anulación
ENVIAR_ORU.ANULAR = 0

# ---
# Versión:      >= 2.4.7
# Default:      0
# Valores:      0,1
# Descripción:  Activar o desactivar el mapeo de los códigos de población del cliente con la tabla de poblaciones de Endosys.
INTEGRACION.POBLACIONES = 0

# ---
# Versión:      >= 2.4.7
# Default:      0
# Valores:      0,1
# Descripción:  Activar o desactivar el mapeo de los códigos de provincias del cliente con la tabla de provincias de Endosys.
INTEGRACION.PROVINCIAS = 0

# ---
# Versión:      >= 2.4.15
# Default:      AGENDA
# Valores:      AGENDA, SERVICIO
# Descripción:  Admite 2 posibles valores:  
#                   * AGENDA: Cuando se selecciona AGENDA se intentara asignar a la agenda que está contenida en
#                             la sección OBR.21.1 en el ORM o SCH.5.1 en el SIU del mensaje HL7
#                   * SERVICIO: Cuando se seleccione SERVICIO se intentará asignar a la primera agenda del
#                               servicio que tiene el mismo código que la sección PV1.10 del ORM/SIU
HL7.CITAS.MODO_ASIGNACION_AGENDA = AGENDA

# ---
# Versión:      >= 2.4.17
# Default:      endosys
# Valores:      Identificador de aplicación
# Descripción:  El Identificador de Aplicación de Endosys App utilizado al
#               enviar mensajes HL7 (campo MSH.3).
HL7.APPLICATION_ID = endosys

# ---
# Versión:      >= 2.4.17
# Default:      HIS
# Valores:      Identificador de aplicación
# Descripción:  El Identificador de Aplicación del sistema externo de destino
#               utilizado al enviar mensajes HL7 (campo MSH.5).
HL7.EXTERNAL_APPLICATION_ID = HIS

# ---
# Versión:      >= 2.4.17
# Default:      0
# Valores:      0,1,2
# Descripción:  Selecciona el modo de fusiones a utilizar. Los posibles valores
#               son:
#               0 - Backward compatible. El modo usado hasta v2.4.16.
#               1 - IDUNICO (no implementado en v2.4.17)
#               2 - NHC+CENTRO
HL7.FUSIONES.MODO = 0

#   ___    _____   ____     ___    ____  
#  / _ \  |_   _| |  _ \   / _ \  / ___| 
# | | | |   | |   | |_) | | | | | \___ \ 
# | |_| |   | |   |  _ <  | |_| |  ___) |
#  \___/    |_|   |_| \_\  \___/  |____/ 

debug = true
smtp_server = localhost
error_email_from = paste@localhost

# 
# DEPRECATED OR DELETED
# 
# 
# 
# 

ID_UNICO_PACIENTE = ""
INTEGRACION_SIHGA = ""
MOSTRAR_CITA_EN_EXPLORACION = 0

#  _        ___     ____ 
# | |      / _ \   / ___|
# | |     | | | | | |  _ 
# | |___  | |_| | | |_| |
# |_____|  \___/   \____|


# LOGGERS ACTIVOS 
[loggers]
keys = root, error, access, sqlalchemy, hl7

[handlers]
keys = root, error, access, sqlalchemy, hl7

[formatters]
keys = generic

# Todos los logs sin un logger asignado. ej: endosys.lib.informes
[logger_root]
level = INFO
handlers = root

# Los errores relacionados con peticiones http (status=500)
[logger_error]
level = INFO
handlers = error
qualname = endosys.config.errormiddleware
propagate = 0

# Los registros de acceso HTTP a la aplicacion
[logger_access]
level = INFO
handlers = access
qualname = wsgi
propagate = 0

# Informacion sobre querys con sqlalchemy
[logger_sqlalchemy]
level = INFO
handlers = sqlalchemy
qualname = sqlalchemy.engine
propagate = 0

# Logs generados por el modulo hl7_process
[logger_hl7]
level = INFO
handlers = hl7
qualname = endosys.lib.hl7_wrapper
propagate = 0

[handler_root]
level = INFO
class = logging.handlers.RotatingFileHandler
args = ('logs/endosys.log', 'a', 5000000, 100)
formatter = generic

[handler_access]
level = INFO
class = logging.handlers.RotatingFileHandler
args = ('logs/access.log', 'a', 5000000, 100)
formatter = generic

[handler_error]
level = INFO
class = logging.handlers.RotatingFileHandler
args = ('logs/error.log', 'a', 5000000, 100)
formatter = generic

[handler_sqlalchemy]
level = INFO
class = logging.handlers.RotatingFileHandler
args = ('logs/sqlalchemy.log', 'a', 5000000, 100)
formatter = generic

[handler_hl7]
level = INFO
class = logging.handlers.RotatingFileHandler
args = ('logs/hl7_process.log', 'a', 5000000, 100)
formatter = generic

[formatter_generic]
format = %(asctime)s,%(msecs)03d %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %d %m %Y %H:%M:%S

# Template:
# ---
# Versión:      >= 
# Default:      
# Valores:      
# Descripción:  
#CLAVE
